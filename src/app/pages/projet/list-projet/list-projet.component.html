<div class="p-6">
  <div class="flex justify-between items-center mb-6">
    <h2 class="text-2xl font-bold">Liste des Projets</h2>
    <button (click)="goToCreateProjet()" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">
      + Ajouter
    </button>
  </div>

  <table class="min-w-full bg-white border border-gray-200 shadow-md rounded-lg overflow-hidden">
    <thead class="bg-gray-100">
      <tr>
        <th class="p-3 text-left text-sm font-semibold text-gray-700">#</th>
        <th class="p-3 text-left text-sm font-semibold text-gray-700">Code</th>
        <th class="p-3 text-left text-sm font-semibold text-gray-700">Nom</th>
        <th class="p-3 text-left text-sm font-semibold text-gray-700">Client</th>
        <th class="p-3 text-left text-sm font-semibold text-gray-700">Budget</th>
        <th class="p-3 text-left text-sm font-semibold text-gray-700">Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let p of paginatedProjects; let i = index" class="border-t hover:bg-gray-50">
        <td class="p-3">{{ i + 1 + currentPage * pageSize }}</td>
        <td class="p-3">{{ p.codeProjet }}</td>
        <td class="p-3">{{ p.nomProjet }}</td>
        <td class="p-3">{{ p.client }}</td>
        <td class="p-3">{{ p.budgetTotal | number:'1.2-2' }} TND</td>
        <td class="p-3 flex space-x-2">
          <button (click)="editProject(p.id!)" class="text-blue-600 hover:text-blue-800 text-xl" title="Voir">
            👁️
          </button>
          <button (click)="deleteProject(p.id!)" class="text-red-600 hover:text-red-800 text-xl" title="Supprimer">
            🗑️
          </button>
        </td>
      </tr>
    </tbody>
  </table>

  <mat-paginator
    [length]="projects.length"
    [pageSize]="pageSize"
    [pageSizeOptions]="[5, 10, 25]"
    (page)="onPageChange($event)"
    class="p-4"
  ></mat-paginator>
</div>
